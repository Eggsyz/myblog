---
layout: blog
istop: false
title: 不同的二叉搜索树
background: green
date:  2020-03-31T20:20:03
category: leetcode
tags:
- 每日一题
- 动态规划 
---

给定一个整数 n，求以 1 ... n 为节点组成的二叉搜索树有多少种？

示例:

```
输入: 3
输出: 5
解释:
给定 n = 3, 一共有 5 种不同结构的二叉搜索树:
  1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
```

# 题目详解

首先，认真解题，题目强调的是**二叉搜索树**的种数。二叉搜索树有什么特性呢？即根节点的左边都小于根节点，根节点的右边都大于根节点。根据这些信息就可以开始思考题目的解法了。根据上述样例可以得出以下几种信息：

1. 根节点可以为1、2、3
2. 当根节点为1时，基于二叉搜索树特性，右侧子树为2、3。其中右子树存在2种情况。
3. 当根节点为2时，左子树为1，右侧子树为2。其中右子树存在2种情况。
4. 当根节点为3时，左侧子树为1、2。其中左子树存在2种情况。

从上述4个信息可以得知，计算最终结果，需要将1，2 ... n 作为根节点的情况进行统计。假设L代表左子树的数量，R代表右子树的数量。则LR代表根节点为i时的二叉搜索树的总数量。

继续以上述例子为例：

1. 当根节点为1时，L 不存在，可以默认为1。R=2，LR=2
2. 当根节点为2时，L=1，R=1。LR=1
3. 当根节点为3时，L=2，R=1。LR=2

再深入思考一下。发现，如果子树是（2，3）与子树是（1，2）组合的二叉搜索树个数是一样的。定义f(i)为n=i时的二叉搜索树个数，其中f(0)=1。则此时存在:

```
f(3)=f(0)f(2)+f(1)f(1)+f(2)f(0)=f(0)f(3-1-0)+f(1)f(3-1-1)+f(2)f(3-1-2)
```

从而可以得出

```
f(n)=f(0)f(n-1)+f(1)f(n-1-1)+...+f(n-1)f(0)
```

# 代码

```go
func numTrees(num int) int {
  var d = make([]int, num+1)
	d[0] = 1
	d[1] = 1
	for i := 2; i <= num; i++ {
		for j := 0; j < i; j++ {
			d[i] += d[j] * d[i-1-j]
		}
	}
	return d[num]
}
```



