---
title: 股票的最大利润
date:  2020-06-06T21:20:03
categories: leetcode
tags:
- 每日一题
- 动态规划
---

假设把某股票的价格按照时间先后顺序存储在数组中，请问买卖该股票一次可能获得的最大利润是多少？

 

**示例 1:**

```
输入: [7,1,5,3,6,4]
输出: 5
解释: 在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。
     注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格。	
```



**示例 2:**

```
输入: [7,6,4,3,1]
输出: 0
解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。
```


限制：

`0 <= 数组长度 <= 10^5`

## 题目详解

采用动态规划算法，假设`dp[i]`表示到第i位的最大利润，`d[i]=max(d[i-1],prices[i]-min)`

## 代码

```go
func maxProfit(prices []int) int {
    if len(prices)==0{
        return 0
    }
    var d = make([]int,len(prices))
    var min=prices[0]
    for i:=1;i<len(prices);i++{
        if prices[i]<min{
            min=prices[i]
        }
        var tmp=prices[i]-min
        if tmp>d[i-1]{
            d[i]=tmp
        }else{
            d[i]=d[i-1]
        }
    }
    return d[len(d)-1]
}
```

## 复杂度分析

+ 时间复杂度 O(N)： 其中 N 为 prices 列表长度，动态规划需遍历 prices。
+ 空间复杂度 O(N)