---
title: "区块链Fabric特性介绍"
date:  2019-04-30 10:33:03
categories: 区块链
tags:
- fabric
---

本文主要基于《区块链原理、设计与应用》这本书介绍区块链Fabric核心特性。

## Fabric 特性介绍

### Fabric架构的核心特性

目前，超级账本Fabric架构的核心特性主要包括：

+ 解耦了原子排序环节与其他复杂处理环节，消除了网络处理瓶颈，提高可扩展性；

+ 解耦交易处理节点的逻辑角色为背书节点（Endorser）、确认节点（Committer），可以根据负载进行灵活部署；

+ 加强了身份证书管理服务，作为单独的Fabric CA项目，提供更多功能；

+ 支持多通道特性，不同通道之间的数据彼此隔离，提高隔离安全性；

+ 支持可拔插的架构，包括共识、权限管理、加解密、账本机制等模块，支持多种类型；

+ 引入系统链码来实现区块链系统的处理，支持可编程和第三方实现。

总而言之，Fabric主要改变可以分为以下几个方面：

1. 模块化
2. 新的交易执行模型
3. 隐私和保密性
4. 可插拔共识
5. 多通道

#### 模块化

Hyperledger Fabric 被专门设计为模块化架构。Fabric 由以下模块化的组件组成：

- 可插拔的*排序服务*对交易顺序建立共识，然后向节点广播区块；
- 可插拔的*成员服务提供者*负责将网络中的实体与加密身份相关联；
- 可选的*P2P gossip 服务*通过排序服务将区块发送到其他节点；
- 智能合约（“链码”）隔离运行在容器环境（例如 Docker）中。
- 账本可以通过配置支持多种 DBMS；
- 可插拔的背书和验证策略，每个应用程序可以独立配置。

#### 交易模型

针对交易 Fabric 引入了一种新的架构，我们称为**执行-排序-验证**。为了解决顺序执行模型面临的弹性、灵活性、可伸缩性、性能和机密性问题，它将交易流分为三个步骤：

- *执行*一个交易并检查其正确性，从而给它背书，
- 通过（可插拔的）共识协议将交易*排序*，
- 提交交易到账本前先根据特定应用程序的背书策略*验证*交易

这种设计与顺序执行模式完全不同，因为 Fabric 在交易顺序达成最终一致前执行交易。

#### 可插拔共识

交易的排序被委托给模块化组件以达成共识，该组件在逻辑上与执行交易和维护帐本的节点解耦。具体来说，就是排序服务。由于共识是模块化的，可以根据特定部署或解决方案的信任假设来定制其实现。这种模块化架构允许平台依赖完善的工具包进行 CFT（崩溃容错）或 BFT（拜占庭容错）的排序。

Fabric 目前提供了两种 CFT 排序服务的实现。第一个是基于 [`etcd` 包](https://coreos.com/etcd/)的 Raft协议，另外一个是Kafka。。

#### 隐私和保密性

Hyperledger Fabric 是一个许可平台，通过其通道架构实现保密。从而只有参与通道的节点才有权访问智能合约（链码）和交易的数据，保证了两者的隐私和保密性。

为了提高其隐私和机密性能，Fabric 增加了对私有数据（private data）的支持，并且正在开发的零知识证明。

#### 多通道

Fabric设计了通道（Channel）来提供成员之间的隐私保护。通道是部分网络成员之间拥有独立的通信渠道，在通道中发送的交易只有属于通道的成员才可见，因此通道可以看作是Fabric的网络中部分成员的私有通信子网。

通道由排序服务管理。在创建通道的时候，需要定义通道的成员和组织、锚节点（anchor peer）和排序服务节点，一条与通道对应的区块链会同时生成，用于记录账本的交易，通道的初始配置信息记录在区块链的创世区块中，可以通过更新配置区块来更改通道的配置信息。

在Fabric网络中，可能同时存在多条彼此隔离的通道，每条通道包含一条私有的区块链和一个私有账本，通道中可以实例化一个或多个链码，以操作区块链上的数据。